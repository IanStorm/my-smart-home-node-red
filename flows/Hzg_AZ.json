[
  {
    "id": "750f0705.13d438",
    "type": "tab",
    "label": "Hzg_AZ",
    "disabled": false,
    "info": ""
  },
  {
    "id": "5c1e7e68.c489d8",
    "type": "comment",
    "z": "750f0705.13d438",
    "name": "Heizkörper -> Arbeitszimmer",
    "info": "",
    "x": 140,
    "y": 40,
    "wires": []
  },
  {
    "id": "a6c16df.0028e1",
    "type": "comment",
    "z": "750f0705.13d438",
    "name": "Daten",
    "info": "",
    "x": 90,
    "y": 120,
    "wires": []
  },
  {
    "id": "6ee9581b.02019",
    "type": "comment",
    "z": "750f0705.13d438",
    "name": "GUI",
    "info": "",
    "x": 90,
    "y": 560,
    "wires": []
  },
  {
    "id": "e74ac8b2.79a94",
    "type": "complete",
    "z": "750f0705.13d438",
    "name": "Warte auf \"Ist verbunden?\"",
    "scope": [
      "6ee04ba2.15d37c"
    ],
    "uncaught": false,
    "x": 150,
    "y": 680,
    "wires": [
      [
        "1f1accaa.3aabe3"
      ]
    ]
  },
  {
    "id": "79bd5985.e6d3c8",
    "type": "complete",
    "z": "750f0705.13d438",
    "name": "Warte auf Ist-Temperatur",
    "scope": [
      "61c78d3d.472da4"
    ],
    "uncaught": false,
    "x": 150,
    "y": 740,
    "wires": [
      [
        "b8b05a47.fff86"
      ]
    ]
  },
  {
    "id": "3c7a0c4b.eb232c",
    "type": "complete",
    "z": "750f0705.13d438",
    "name": "Warte auf Soll-Temperatur",
    "scope": [
      "2903c3ad.ebb914"
    ],
    "uncaught": false,
    "x": 150,
    "y": 860,
    "wires": [
      [
        "e58b0cfd.d909d8"
      ]
    ]
  },
  {
    "id": "1f1accaa.3aabe3",
    "type": "ui_template",
    "z": "750f0705.13d438",
    "group": "cd94108d.1e556",
    "name": "Zeige \"Ist verbunden?\"",
    "order": 3,
    "width": "1",
    "height": 1,
    "format": "<div style=\"align-self: center;\">\n    <i ng-if=\"msg.payload\" class=\"material-icons\">sync</i>\n    <i ng-if=\"!msg.payload\" class=\"material-icons\">sync_disabled</i>\n</div>",
    "storeOutMessages": false,
    "fwdInMessages": false,
    "resendOnRefresh": true,
    "templateScope": "local",
    "x": 400,
    "y": 680,
    "wires": [
      []
    ]
  },
  {
    "id": "b8b05a47.fff86",
    "type": "ui_text",
    "z": "750f0705.13d438",
    "group": "cd94108d.1e556",
    "order": 2,
    "width": 2,
    "height": 1,
    "name": "Zeige Ist-Temperatur",
    "label": "<i class=\"material-icons\">ac_unit</i>",
    "format": "{{msg.payload}}°C",
    "layout": "row-center",
    "x": 400,
    "y": 740,
    "wires": []
  },
  {
    "id": "b30a89bc.7e666",
    "type": "inject",
    "z": "750f0705.13d438",
    "name": "Beim Start",
    "repeat": "",
    "crontab": "",
    "once": true,
    "onceDelay": 0.1,
    "topic": "",
    "payload": "",
    "payloadType": "str",
    "x": 110,
    "y": 620,
    "wires": [
      [
        "73d3a176.b41ce8"
      ]
    ]
  },
  {
    "id": "73d3a176.b41ce8",
    "type": "ui_template",
    "z": "750f0705.13d438",
    "group": "cd94108d.1e556",
    "name": "Zeige Heizungsicon",
    "order": 1,
    "width": "1",
    "height": "3",
    "format": "<div style=\"align-self: center; font-size: 40px;\">\n    <i class=\"material-icons\" style=\"font-size: inherit;\">\n        whatshot\n    </i>\n</div>",
    "storeOutMessages": true,
    "fwdInMessages": true,
    "resendOnRefresh": false,
    "templateScope": "local",
    "x": 390,
    "y": 620,
    "wires": [
      []
    ]
  },
  {
    "id": "fcdf8b2c.6b78f",
    "type": "comment",
    "z": "750f0705.13d438",
    "name": "Automatisch Schalten",
    "info": "",
    "x": 140,
    "y": 1000,
    "wires": []
  },
  {
    "id": "fc295b31.460b6",
    "type": "inject",
    "z": "750f0705.13d438",
    "name": "Werktags, 06:00 Uhr",
    "props": [
      {
        "p": "payload"
      },
      {
        "p": "topic",
        "vt": "str"
      }
    ],
    "repeat": "",
    "crontab": "00 06 * * 1,2,3,4,5",
    "once": false,
    "onceDelay": 0.1,
    "topic": "",
    "payload": "",
    "payloadType": "str",
    "x": 140,
    "y": 1060,
    "wires": [
      [
        "52bf7b5b.10e544"
      ]
    ]
  },
  {
    "id": "79058b27.6ef6b4",
    "type": "inject",
    "z": "750f0705.13d438",
    "name": "Wochenende, 07:00 Uhr",
    "props": [
      {
        "p": "payload"
      },
      {
        "p": "topic",
        "vt": "str"
      }
    ],
    "repeat": "",
    "crontab": "00 07 * * 6,0",
    "once": false,
    "onceDelay": 0.1,
    "topic": "",
    "payload": "",
    "payloadType": "str",
    "x": 150,
    "y": 1100,
    "wires": [
      [
        "52bf7b5b.10e544"
      ]
    ]
  },
  {
    "id": "5a5276b8.6aaa3",
    "type": "inject",
    "z": "750f0705.13d438",
    "name": "So.-Do., 21:00 Uhr",
    "props": [
      {
        "p": "payload"
      },
      {
        "p": "topic",
        "vt": "str"
      }
    ],
    "repeat": "",
    "crontab": "00 21 * * 1,2,3,4,0",
    "once": false,
    "onceDelay": 0.1,
    "topic": "",
    "payload": "",
    "payloadType": "str",
    "x": 140,
    "y": 1160,
    "wires": [
      [
        "5ee9c1c6.e4224"
      ]
    ]
  },
  {
    "id": "6e172ac2.19de3c",
    "type": "inject",
    "z": "750f0705.13d438",
    "name": "Fr.-Sa., 23:00 Uhr",
    "props": [
      {
        "p": "payload"
      },
      {
        "p": "topic",
        "vt": "str"
      }
    ],
    "repeat": "",
    "crontab": "00 23 * * 5,6",
    "once": false,
    "onceDelay": 0.1,
    "topic": "",
    "payload": "",
    "payloadType": "str",
    "x": 130,
    "y": 1200,
    "wires": [
      [
        "5ee9c1c6.e4224"
      ]
    ]
  },
  {
    "id": "52bf7b5b.10e544",
    "type": "change",
    "z": "750f0705.13d438",
    "name": "Setze Wunsch-Temperatur auf 21°C",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "21",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "study/radiator/desiredTemperature",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 450,
    "y": 1080,
    "wires": [
      []
    ]
  },
  {
    "id": "5ee9c1c6.e4224",
    "type": "change",
    "z": "750f0705.13d438",
    "name": "Setze Wunsch-Temperatur auf 17°C",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "17",
        "tot": "num"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "study/radiator/desiredTemperature",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 450,
    "y": 1180,
    "wires": [
      []
    ]
  },
  {
    "id": "4dfa9944.a11738",
    "type": "complete",
    "z": "750f0705.13d438",
    "name": "Warte auf Wunsch-Temperatur",
    "scope": [
      "52bf7b5b.10e544",
      "5ee9c1c6.e4224",
      "d53df6ae.7d8718"
    ],
    "uncaught": false,
    "x": 160,
    "y": 300,
    "wires": [
      [
        "b09c5330.09bd98"
      ]
    ]
  },
  {
    "id": "ea9b1bb3.5ea688",
    "type": "link in",
    "z": "750f0705.13d438",
    "name": "Warte auf \"Ist Heizung eingeschaltet?\"",
    "links": [
      "ae8dfb0d.ed6b38"
    ],
    "x": 190,
    "y": 340,
    "wires": [
      [
        "b09c5330.09bd98"
      ]
    ],
    "l": true
  },
  {
    "id": "df46be69.47718",
    "type": "link in",
    "z": "750f0705.13d438",
    "name": "Warte auf \"Ist Fenster geschlossen?\"",
    "links": [
      "2f16b6fc.b3acca"
    ],
    "x": 180,
    "y": 380,
    "wires": [
      [
        "b09c5330.09bd98"
      ]
    ],
    "l": true
  },
  {
    "id": "d53df6ae.7d8718",
    "type": "change",
    "z": "750f0705.13d438",
    "name": "Setze Wunsch-Temperatur",
    "rules": [
      {
        "t": "set",
        "p": "payload",
        "pt": "msg",
        "to": "payload",
        "tot": "msg"
      },
      {
        "t": "set",
        "p": "topic",
        "pt": "msg",
        "to": "study/radiator/desiredTemperature",
        "tot": "str"
      }
    ],
    "action": "",
    "property": "",
    "from": "",
    "to": "",
    "reg": false,
    "x": 880,
    "y": 860,
    "wires": [
      []
    ]
  },
  {
    "id": "5b2febea.5001b4",
    "type": "complete",
    "z": "750f0705.13d438",
    "name": "Warte auf Ziel-Temperatur",
    "scope": [
      "b09aefbb.5bd438"
    ],
    "uncaught": false,
    "x": 150,
    "y": 480,
    "wires": [
      [
        "b0f9b2ed.135dc"
      ]
    ]
  },
  {
    "id": "6ee04ba2.15d37c",
    "type": "link out",
    "z": "750f0705.13d438",
    "name": "Teile \"Ist verbunden?\"",
    "links": [],
    "x": 420,
    "y": 160,
    "wires": [],
    "l": true
  },
  {
    "id": "61c78d3d.472da4",
    "type": "link out",
    "z": "750f0705.13d438",
    "name": "Teile Ist-Temperatur",
    "links": [],
    "x": 410,
    "y": 200,
    "wires": [],
    "l": true
  },
  {
    "id": "2903c3ad.ebb914",
    "type": "link out",
    "z": "750f0705.13d438",
    "name": "Teile Soll-Temperatur",
    "links": [],
    "x": 420,
    "y": 240,
    "wires": [],
    "l": true
  },
  {
    "id": "3409c9be.09d6ae",
    "type": "subflow:2757b690.6da392",
    "z": "750f0705.13d438",
    "name": "Warte auf Thermostat-Daten",
    "env": [
      {
        "name": "ain",
        "value": "109710426496",
        "type": "str"
      },
      {
        "name": "topicPrefix",
        "value": "study",
        "type": "str"
      }
    ],
    "x": 160,
    "y": 200,
    "wires": [
      [
        "6ee04ba2.15d37c"
      ],
      [
        "61c78d3d.472da4"
      ],
      [
        "2903c3ad.ebb914"
      ]
    ]
  },
  {
    "id": "b0f9b2ed.135dc",
    "type": "subflow:2b4929ba.ee20e6",
    "z": "750f0705.13d438",
    "name": "Regle Thermostat",
    "env": [
      {
        "name": "ain",
        "value": "109710426496",
        "type": "str"
      }
    ],
    "x": 390,
    "y": 480,
    "wires": []
  },
  {
    "id": "92464dbf.0b0f08",
    "type": "inject",
    "z": "750f0705.13d438",
    "name": "Beim Start",
    "props": [
      {
        "p": "payload"
      },
      {
        "p": "topic",
        "vt": "str"
      }
    ],
    "repeat": "",
    "crontab": "",
    "once": true,
    "onceDelay": 0.1,
    "topic": "",
    "payload": "",
    "payloadType": "str",
    "x": 110,
    "y": 920,
    "wires": [
      [
        "cab333c0.19be5"
      ]
    ]
  },
  {
    "id": "be92cd9.c12433",
    "type": "ui_text",
    "z": "750f0705.13d438",
    "group": "cd94108d.1e556",
    "order": 5,
    "width": 2,
    "height": 1,
    "name": "Zeige Ziel-Temperatur",
    "label": "<i class=\"material-icons\">whatshot</i>",
    "format": "{{msg.payload ? msg.payload + '°C' : 'Aus'}}",
    "layout": "row-center",
    "x": 400,
    "y": 800,
    "wires": []
  },
  {
    "id": "7d307e29.87d5c",
    "type": "complete",
    "z": "750f0705.13d438",
    "name": "Warte auf Ziel-Temperatur",
    "scope": [
      "b09aefbb.5bd438"
    ],
    "uncaught": false,
    "x": 150,
    "y": 800,
    "wires": [
      [
        "be92cd9.c12433"
      ]
    ]
  },
  {
    "id": "cab333c0.19be5",
    "type": "ui_button",
    "z": "750f0705.13d438",
    "name": "Interaktion Automatisierungsinfo",
    "group": "cd94108d.1e556",
    "order": 6,
    "width": "1",
    "height": "1",
    "passthru": false,
    "label": "",
    "tooltip": "",
    "color": "",
    "bgcolor": "transparent",
    "icon": "info",
    "payload": "Schaltet vollautomatisch zeit- & sensorbasiert.",
    "payloadType": "str",
    "topic": "",
    "x": 430,
    "y": 920,
    "wires": [
      [
        "d30423ec.517ac"
      ]
    ]
  },
  {
    "id": "d30423ec.517ac",
    "type": "ui_toast",
    "z": "750f0705.13d438",
    "position": "bottom right",
    "displayTime": "5",
    "highlight": "",
    "sendall": false,
    "outputs": 0,
    "ok": "OK",
    "cancel": "",
    "raw": false,
    "topic": "Arbeitszimmer: Heizkörper",
    "name": "Zeige Benachrichtigung",
    "x": 710,
    "y": 920,
    "wires": []
  },
  {
    "id": "e58b0cfd.d909d8",
    "type": "ui_numeric",
    "z": "750f0705.13d438",
    "name": "Interaktion Soll-Temperatur",
    "label": "",
    "tooltip": "",
    "group": "cd94108d.1e556",
    "order": 4,
    "width": "2",
    "height": "2",
    "wrap": false,
    "passthru": false,
    "topic": "",
    "format": "{{value}}°C",
    "min": "8",
    "max": "28",
    "step": "0.5",
    "x": 420,
    "y": 860,
    "wires": [
      [
        "e0209734.6e00c"
      ]
    ]
  },
  {
    "id": "e0209734.6e00c",
    "type": "debounce",
    "z": "750f0705.13d438",
    "time": "5000",
    "name": "5s debounce",
    "x": 650,
    "y": 860,
    "wires": [
      [
        "d53df6ae.7d8718"
      ]
    ]
  },
  {
    "id": "b09c5330.09bd98",
    "type": "subflow:824afeed.e518a8",
    "z": "750f0705.13d438",
    "name": "Berechne Ziel-Temperatur",
    "env": [
      {
        "name": "contactSensor1Topic",
        "value": "study/balconyDoor/isClosed",
        "type": "str"
      },
      {
        "name": "contactSensor2Topic",
        "value": "study/balconyDoor/isClosed",
        "type": "str"
      },
      {
        "name": "desiredTemperatureTopic",
        "value": "study/radiator/desiredTemperature",
        "type": "str"
      },
      {
        "name": "targetTemperatureTopic",
        "value": "study/radiator/targetTemperature",
        "type": "str"
      }
    ],
    "x": 510,
    "y": 340,
    "wires": [
      [
        "b09aefbb.5bd438"
      ]
    ]
  },
  {
    "id": "b09aefbb.5bd438",
    "type": "link out",
    "z": "750f0705.13d438",
    "name": "Teile Ziel-Temperatur",
    "links": [],
    "x": 760,
    "y": 340,
    "wires": [],
    "l": true
  },
  {
    "id": "d13597d2.e221d8",
    "type": "link in",
    "z": "750f0705.13d438",
    "name": "Warte auf \"Ist Fenster geschlossen?\"",
    "links": [
      "2f16b6fc.b3acca"
    ],
    "x": 180,
    "y": 420,
    "wires": [
      [
        "b09c5330.09bd98"
      ]
    ],
    "l": true
  }
]